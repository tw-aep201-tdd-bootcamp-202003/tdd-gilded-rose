# TDD「镶金玫瑰商店」Tasks

## 业务背景

"镶金玫瑰"！这是一家魔兽世界里的小商店。出售的商品也都是高质量的。但不妙的是，随着商品逐渐接近保质期，它们的质量也不断下滑。我们用一个IT系统来更新库存信息。

首先，简单介绍一下我们的系统：

- 所有商品都有一个`SellIn`值，这是商品的保质期，最好在这么多天之内卖掉
- 所有商品都有一个`Quality`值，代表商品的价值
- 商品的`SellIn`值和`Quality`值，会随着天数的增加而变化，但是会有特例


商品的价格规则说明如下：

- 商品的价值永远不会小于0，也永远不会超过50
- 一旦过了保质期，`Quality`就以双倍的速度下滑
- 陈年干酪（`Aged Brie`）是一种特殊的商品，放得越久，价值反而越高
- 萨弗拉斯（`Sulfuras`）是一种传奇商品，没有保质期的概念，质量也不会下滑
- 后台门票（`Backstage pass`）和陈年干酪（`Aged Brie`）有相似之处：
	- 越接近演出日，随着`SellIn`值的增加，商品价值`Quality`值反而上升
	- 在演出前10天，价值每天上升2点
	- 演出前5天，价值每天上升3点
	- 一旦过了演出日，价值就马上变成0
	
	
## Tasking

### 常规商品
常规商品，没过保，质量大于0
常规商品，没过保，质量等于0

常规商品，过保了，质量大于1
常规商品，过保了，质量等于1

Given 常规商品，保质期为5，质量为5，When 按天更新， Then 保质期为4，质量为4
Given 常规商品，保质期为5，质量为0，When 按天更新， Then 保质期为4，质量为0

Given 常规商品，保质期为0，质量为5，When 按天更新， Then 保质期为-1，质量为3
Given 常规商品，保质期为0，质量为1，When 按天更新， Then 保质期为-1，质量为0


### 陈年干酪
陈年干酪，没过保，质量小于50
陈年干酪，没过保，质量等于50

陈年干酪，过保了，质量小于49
陈年干酪，过保了，质量等于49


Given 陈年干酪，保质期为5，质量为5，When 按天更新， Then 保质期为4，质量为6
Given 陈年干酪，保质期为5，质量为50，When 按天更新， Then 保质期为4，质量为50

Given 陈年干酪，保质期为0，质量为45，When 按天更新， Then 保质期为-1，质量为47
Given 陈年干酪，保质期为0，质量为49，When 按天更新， Then 保质期为-1，质量为50


### 萨弗拉斯
萨弗拉斯，没过保，质量等于0
萨弗拉斯，没过保，质量0 ~ 50
萨弗拉斯，没过保，质量等于50

萨弗拉斯，过保了，质量等于0
萨弗拉斯，过保了，质量0 ~ 50
萨弗拉斯，过保了，质量等于50

- Given 陈年干酪，保质期为5，质量为0，When 按天更新， Then 保质期为5，质量为0
- Given 陈年干酪，保质期为5，质量为5，When 按天更新， Then 保质期为4，质量为5
- Given 陈年干酪，保质期为5，质量为50，When 按天更新， Then 保质期为4，质量为5

- Given 陈年干酪，保质期为0，质量为0，When 按天更新， Then 保质期为-1，质量为0
- Given 陈年干酪，保质期为0，质量为5，When 按天更新， Then 保质期为-1，质量为5
- Given 陈年干酪，保质期为0，质量为50，When 按天更新， Then 保质期为-1，质量为50



### 后台门票
后台门票，提前11 ~ 天，质量小于50
后台门票，提前11 ~ 天，质量等于50

后台门票，提前6~10天，质量小于49
后台门票，提前6~10天，质量等于49

后台门票，提前1 ~ 5天，质量小于48
后台门票，提前1 ~ 5天，质量等于48

后台门票，过保了 ，质量等于0
后台门票，过保了 ，质量0 ~ 50
后台门票，过保了 ，质量等于50


- Given 后台门票，保质期为15，质量为45，When 按天更新， Then 保质期为10，质量为46
- Given 后台门票，保质期为15，质量为50，When 按天更新， Then 保质期为10，质量为50
- 
- Given 后台门票，保质期为11，质量为45，When 按天更新， Then 保质期为5，质量为47
- Given 后台门票，保质期为11，质量为49，When 按天更新， Then 保质期为5，质量为50
- 
- Given 后台门票，保质期为6，质量为45，When 按天更新， Then 保质期为5，质量为48
- Given 后台门票，保质期为6，质量为48，When 按天更新， Then 保质期为5，质量为50
-
- Given 后台门票，保质期为0，质量为0，When 按天更新， Then 保质期为-1，质量为0
- Given 后台门票，保质期为0，质量为45，When 按天更新， Then 保质期为-1，质量为0
- Given 后台门票，保质期为0，质量为50，When 按天更新， Then 保质期为-1，质量为0




